import{q as o,g as S,s as x,l as D,a as E}from"./utils-B3GCnpRJ.js";import{P as L}from"./ProductData-Ci8lvGAC.js";class N{constructor(t,r){this.productId=t,this.product={},this.dataSource=r}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails();const t=o("#addToCart");t&&t.addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const t=S("so-cart")||[];t.push(this.product),x("so-cart",t)}renderProductDetails(){var h,l,m,P,f;if(!this.product)return;const t=o("#productBrand"),r=o("#productName"),s=o("#productImage"),e=o("#productPrice"),c=o("#productDiscount"),a=o("#productColor"),n=o("#productDescription"),u=o("#addToCart");if(t&&(t.textContent=((h=this.product.Brand)==null?void 0:h.Name)||""),r&&(r.textContent=this.product.NameWithoutBrand||this.product.Name||""),s){const i=((l=this.product.Images)==null?void 0:l.PrimaryLarge)||((m=this.product.Images)==null?void 0:m.PrimaryMedium)||this.product.Image||"";s.src=i,s.alt=this.product.Name||""}e&&(e.textContent=`$${(this.product.FinalPrice??this.product.ListPrice??0).toFixed(2)}`);const d=this.product.SuggestedRetailPrice??this.product.ListPrice??0,p=this.product.FinalPrice??this.product.ListPrice??0;if(c&&d>p){const i=d-p,I=Math.round(i/d*100);c.textContent=`Save ${I}% ($${i.toFixed(2)} off)`}else c&&(c.textContent="");a&&(a.textContent=((f=(P=this.product.Colors)==null?void 0:P[0])==null?void 0:f.ColorName)||""),n&&(n.innerHTML=this.product.DescriptionHtmlSimple||this.product.Description||""),u&&(u.dataset.id=this.product.Id||"")}}D();const g=E("product"),y=new L("tents");g&&(async()=>await new N(g,y).init())();
