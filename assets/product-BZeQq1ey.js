import{q as o,g as C,s as D,l as S,a as x}from"./utils-B3GCnpRJ.js";import{P as E}from"./ProductData-B1aYoRqE.js";class I{constructor(t,c){this.productId=t,this.product={},this.dataSource=c}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails();const t=o("#addToCart");t&&t.addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const t=C("so-cart")||[];t.push(this.product),D("so-cart",t)}renderProductDetails(){var l,h,m;if(!this.product)return;const t=o("#productBrand"),c=o("#productName"),s=o("#productImage"),e=o("#productPrice"),r=o("#productDiscount"),a=o("#productColor"),n=o("#productDescription"),u=o("#addToCart");if(t&&(t.textContent=((l=this.product.Brand)==null?void 0:l.Name)||""),c&&(c.textContent=this.product.NameWithoutBrand||this.product.Name||""),s){const i=(this.product.Image||"").replace(/^\.\.\/images/,"/WDD330/images");s.src=i,s.alt=this.product.Name||""}e&&(e.textContent=`$${(this.product.FinalPrice??this.product.ListPrice??0).toFixed(2)}`);const d=this.product.SuggestedRetailPrice??this.product.ListPrice??0,p=this.product.FinalPrice??this.product.ListPrice??0;if(r&&d>p){const i=d-p,g=Math.round(i/d*100);r.textContent=`Save ${g}% ($${i.toFixed(2)} off)`}else r&&(r.textContent="");a&&(a.textContent=((m=(h=this.product.Colors)==null?void 0:h[0])==null?void 0:m.ColorName)||""),n&&(n.innerHTML=this.product.DescriptionHtmlSimple||this.product.Description||""),u&&(u.dataset.id=this.product.Id||"")}}S();const P=x("product"),L=new E("tents");P&&(async()=>await new I(P,L).init())();
